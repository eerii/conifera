{"version":3,"sources":["services/contacts.js","components/Form.js","components/Search.js","components/Book.js","components/App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Form","contacts","setContacts","setNotification","timeout","setTheTimeout","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","event","preventDefault","map","name","toLowerCase","includes","key","Object","keys","find","number","window","confirm","changedContact","contactService","newContact","clearTimeout","catch","error","filter","n","contact","concat","setTimeout","value","onChange","target","type","Search","searchVal","setSearchVal","Button","contactName","onClick","c","Display","Book","search","searchContacts","Notification","message","notificationStyle","color","background","fontSize","borderRadius","padding","marginBottom","errorStyle","style","App","notification","useEffect","contactlist","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.75eca459.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getContact = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst newContact = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst changeNumber = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst deleteContact = id => {\n    return axios.delete(baseUrl + '/' + id)\n}\n\nexport default {getContact, newContact, changeNumber, deleteContact}","import React, {useState} from 'react'\nimport contactService from '../services/contacts'\n\nconst Form = ({contacts, setContacts, setNotification, timeout, setTheTimeout}) => {\n    const [ newName, setNewName ] = useState('')\n    const [ newNumber, setNewNumber ] = useState('')\n\n    const addNote = (event) => {\n        event.preventDefault()\n        if ((contacts.map(contacts => contacts.name.toLowerCase())).includes(newName.toLowerCase())) {\n            const key = Object.keys(contacts).find(key => contacts[key].name.toLowerCase() === newName.toLowerCase());\n            if (contacts[key].number !== newNumber) {\n                if (window.confirm(`${newName} is already in your phonebook. Do you want to change the old number ${contacts[key].number} for this new number ${newNumber}?`)) {\n                    const changedContact = { ...contacts[key], number: newNumber }\n                    contactService.changeNumber(changedContact.id, changedContact)\n                        .then(newContact => {\n                            setContacts(contacts.map(contacts => contacts.id !== changedContact.id ? contacts : newContact))\n                            setNotification([false, `The entry for ${newName} was updated`])\n                            if (timeout) {clearTimeout(timeout)}\n                        })\n                        .catch(error => {\n                            setNotification([true, `The entry for ${newName} has been removed from the server`])\n                            if (timeout) {clearTimeout(timeout)}\n                            setContacts(contacts.filter(n => n.id !== changedContact.id))\n                        })\n                }\n            }\n            else {\n                setNotification([true, `Your phonebook already includes ${newName}`])\n                if (timeout) {clearTimeout(timeout)}\n            }\n        }\n        else {\n            const contactObj = {\n                name: newName,\n                number: newNumber\n            }\n\n            contactService.newContact(contactObj).then(contact => {\n                setContacts(contacts.concat(contact))\n                setNotification([false, `${newName} has been added to your phonebook!`])\n                if (timeout) {clearTimeout(timeout)}\n            })\n        }\n        setNewName('')\n        setNewNumber('')\n\n        setTheTimeout(setTimeout(() => {\n            setNotification([false, ''])\n        }, 3000))\n    }\n\n    const onNameChange = (event) => {\n        setNewName(event.target.value)\n    }\n\n    const onNumberChange = (event) => {\n        setNewNumber(event.target.value)\n    }\n\n    return (\n        <form onSubmit={addNote}>\n            <div>\n                Name: <input value={newName} onChange={onNameChange}/>\n            </div>\n            <div>\n                Phone Number: <input value={newNumber} onChange={onNumberChange}/>\n            </div>\n            <div>\n                <button type=\"submit\">Add Contact</button>\n            </div>\n        </form>\n    )\n}\n\nexport default Form","import React from 'react'\n\n\nconst Search = ({searchVal, setSearchVal}) => {\n    return (\n        <div>\n            Search: <input value={searchVal} onChange={event => setSearchVal(event.target.value)}/>\n        </div>\n    )\n}\n\nexport default Search","import React from \"react\";\nimport contactService from '../services/contacts'\n\nconst Button = ({name, id, contacts, setContacts, contactName, setNotification, timeout, setTheTimeout}) => {\n\n    const deleteThis = (event) => {\n        if (window.confirm(`Do you really want to delete ${contactName}?`)) {\n            contactService.deleteContact(id)\n                .then(() => {\n                    setNotification([true, `The entry for ${contactName} has been removed from the server`])\n                    if (timeout) {clearTimeout(timeout)}\n                    setContacts(contacts.filter(c => c.id !== id))\n                })\n                .catch(error => {\n                    setNotification([true, `The entry for ${contactName} has already been removed from the server`])\n                    if (timeout) {clearTimeout(timeout)}\n                    setContacts(contacts.filter(n => n.id !== id))\n                })\n        }\n        setTheTimeout(setTimeout(() => {\n            setNotification([false, ''])\n        }, 3000))\n    }\n\n    return (\n        <button onClick={event => deleteThis(event)}>{name}</button>\n    )\n}\n\nconst Display = ({name, number}) => {\n    return (\n        <p>{name}: {number}</p>\n    )\n}\n\nconst Book = ({contacts, setContacts, search, setNotification, timeout, setTheTimeout}) => {\n    const searchContacts = contacts.filter(contacts => contacts.name.toLowerCase().includes(search.toLowerCase()))\n\n    return (\n        <div>\n            {searchContacts.map(searchContacts =>\n                <div key={searchContacts.id}>\n                    <Display name={searchContacts.name} number={searchContacts.number}/>\n                    <Button name=\"Delete\" id={searchContacts.id} contacts={contacts} setContacts={setContacts} contactName={searchContacts.name} setNotification={setNotification} timeout={timeout} setTheTimeout={setTheTimeout}/>\n                </div>)}\n        </div>\n    )\n}\n\nexport default Book","import React, { useState, useEffect } from 'react'\nimport Form from './Form'\nimport Search from './Search'\nimport Book from './Book'\nimport contactService from '../services/contacts'\n\nconst Notification = ({ error, message }) => {\n    const notificationStyle = {\n        color: 'white',\n        background: 'green',\n        fontSize: 16,\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n\n    const errorStyle = {...notificationStyle, background: 'red'}\n\n    if (!message) {\n        return null\n    }\n\n    return (\n        <div style={error ? errorStyle : notificationStyle}>\n            {message}\n        </div>\n    )\n}\n\nconst App = () => {\n    const [ contacts, setContacts ] = useState([])\n    const [ searchVal, setSearchVal ] = useState('')\n    const [ notification, setNotification ] = useState([false, ''])\n    const [ timeout, setTheTimeout ] = useState(null)\n\n    useEffect(() => {\n        //console.log(\"Effect\")\n        contactService.getContact().then(contactlist => {\n                //console.log(\"Promise fulfilled\")\n                setContacts(contactlist)\n            })\n    }, [])\n    //console.log(\"Render\", contacts.length, \"contacts\")\n\n    return (\n        <div>\n            <h1>Phonebook</h1>\n\n            <Notification error={notification[0]} message={notification[1]}/>\n\n            <h3>Add New</h3>\n            <Form contacts={contacts} setContacts={setContacts} setNotification={setNotification} timeout={timeout} setTheTimeout={setTheTimeout}/>\n\n            <h3>Contacts</h3>\n            <Search searchVal={searchVal} setSearchVal={setSearchVal}/>\n            <Book contacts={contacts} setContacts={setContacts} search={searchVal} setNotification={setNotification} timeout={timeout} setTheTimeout={setTheTimeout}/>\n        </div>\n    )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App'\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}